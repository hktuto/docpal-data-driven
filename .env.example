# Database Configuration
DATABASE_URL=postgresql://docpal_user:docpal_password_dev_123@localhost:5432/docpal_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=docpal_dev
DATABASE_USER=docpal_user
DATABASE_PASSWORD=docpal_password_dev_123
DATABASE_SSL=false

# Cache Configuration (Valkey - Redis-compatible, preferred for licensing)
VALKEY_HOST=localhost
VALKEY_PORT=6379
VALKEY_PASSWORD=valkey_password_dev_123
VALKEY_DB=0

# Redis Configuration (fallback - prefer Valkey)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=valkey_password_dev_123
REDIS_DB=0

# Authentication & Security
JWT_SECRET=your-super-secret-jwt-key-for-development-only-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=your-super-secret-session-key-for-development-only-change-in-production
BCRYPT_ROUNDS=12

# Session Management & Auto-Renewal
SESSION_TTL=86400                      # Session duration in seconds (24 hours)
SESSION_AUTO_RENEWAL=true              # Enable automatic session renewal (default: true)
SESSION_RENEWAL_STRATEGY=sliding       # Renewal strategy: sliding|threshold|disabled (default: sliding)
SESSION_RENEWAL_THRESHOLD=0.5          # Renew when % of TTL remaining (for threshold strategy)
MAX_SESSIONS_PER_USER=5                # Maximum concurrent sessions per user

# Session Renewal Strategy Examples:
# sliding    - Always renew on access (best UX, default)
# threshold  - Only renew when close to expiry (more efficient)
# disabled   - No auto-renewal (most secure, worst UX)

# Better Auth Configuration
BETTER_AUTH_SECRET=your-super-secret-better-auth-key-for-development-only
BETTER_AUTH_URL=http://localhost:3333

# Minio Configuration
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=docpal-files
MINIO_USE_SSL=false
MINIO_REGION=us-east-1

# OpenFGA Configuration
OPENFGA_API_URL=http://localhost:8080
OPENFGA_STORE_ID=01K3FS9XSCF311EANSMF47PHWK
OPENFGA_MODEL_ID=01K3FS9XSNHVRXJGWAP612MYJT
OPENFGA_CLIENT_ID=your-client-id
OPENFGA_CLIENT_SECRET=your-client-secret

# Application Configuration
NODE_ENV=development
PORT=3333
HOST=0.0.0.0

# API Configuration
API_BASE_URL=http://localhost:3333
CORS_ORIGIN=http://localhost:3033

# File Upload Configuration
MAX_FILE_SIZE=104857600 # 100MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,rtf,jpg,jpeg,png,gif,svg,zip,rar,7z

# Rate Limiting
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX=100

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

API_URL=http://localhost:3333
API_SWAGGER_URL=http://localhost:3333

# ========================================
# Session Renewal Configuration Examples
# ========================================

# Standard Web Application (Recommended)
# SESSION_TTL=86400                    # 24 hours
# SESSION_RENEWAL_STRATEGY=sliding     # Always renew on access
# SESSION_AUTO_RENEWAL=true

# Enterprise Application (Long sessions with efficient renewal)
# SESSION_TTL=604800                   # 7 days
# SESSION_RENEWAL_STRATEGY=threshold   # Only renew when close to expiry
# SESSION_RENEWAL_THRESHOLD=0.2        # Renew when 20% TTL remaining

# High-Security Application (Short sessions, no auto-renewal)
# SESSION_TTL=3600                     # 1 hour
# SESSION_AUTO_RENEWAL=false           # No auto-renewal
# MAX_SESSIONS_PER_USER=1              # Single session only

# Mobile Application (Extended sessions)
# SESSION_TTL=2592000                  # 30 days
# SESSION_RENEWAL_STRATEGY=sliding     # Always renew on access
# MAX_SESSIONS_PER_USER=3              # Fewer concurrent sessions

# Development/Testing (Short sessions for testing)
# SESSION_TTL=1800                     # 30 minutes
# SESSION_RENEWAL_STRATEGY=threshold   # Test renewal behavior
# SESSION_RENEWAL_THRESHOLD=0.8        # Renew when 80% expired